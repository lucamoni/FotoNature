<!DOCTYPE HTML>

<html lang="it">
	<head>
		<title>Pagina Foto</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
		<link rel="stylesheet" href="assets/css/main.css" />
		<noscript><link rel="stylesheet" href="assets/css/noscript.css" /></noscript>
	</head>

		<!-- Page Wrapper -->
			<div id="page-wrapper">

				<!-- Header -->
					<header id="header" class="alt">
						<div class="inner">
							<!-- Breadcrumb -->
							<div class="breadcrumb-container">
								<ol class="breadcrumb">
									<span>sei nella pagina:</span>
									<li class="breadcrumb-item">
										<a href="index.html">Home</a>
									<li class="breadcrumb-item">
										<a href="foto.html">Catalogo Foto</a>
									<li class="breadcrumb-item active">
										<a id="scopri-di-piu2"></a>
									</li>
								</ol>
							</div>


							<div class="logo"><span class="icon fa-gem"></span></div>
						</div>
						<h1><a class="button" href="foto.html">Torna alle foto</a></h1>

						<nav>
							<a href="#menu">Menu</a>
						</nav>
					</header>

				<!-- Menu -->
					<nav id="menu">
						<div class="inner">
							<h2>Menu</h2>
							<ul class="links">
								<li><a href="index.html">Home</a></li>
								<li><a href="foto.html">Foto</a></li>
								<li><a href="artista.html">Fotografi</a></li>
								<li><a href="mappa.html">Mappa</a></li>
							<a href="#" class="close">Close</a>
							</ul>
						</div>
					</nav>

				<!-- Banner -->
				<section id="banner" style="height: 200px;">
					<div class="inner" style="padding: 20px;">
						<h2 class="major" id="foto_title" align="center" style="margin-top: -70px;"></h2>
					</div>
				</section>

				<!-- foto e dettagli -->

				<section id="foto" class="wrapper alt style1">
					<div class="inner">
						<section class="features">
						</section>
					</div>
					<article style="text-align: center; margin-top: -20px;">
						<a class="image dynamic"><img id="foto-img" src="" alt="" /></a>
						<h3 class="major" id="foto-title"></h3>
						<p id="foto-description"></p>
					</article>
				</section>



				<!-- Script to load photo details -->
				<script>
					const urlParams = new URLSearchParams(window.location.search);
					const photoId = urlParams.get('id');

					fetch('dataset.json')
							.then(response => response.json())
							.then(data => {
								console.log('Dataset loaded:', data); // Debugging statement

								const photo = data.find(item => item.id === photoId);
								console.log('Photo found:', photo); // Debugging statement

								if (photo) {
									const fotoImg = document.getElementById('foto-img');
									const fotoTitle = document.getElementById('foto-title');
									const fotoDescription = document.getElementById('foto-description');
									const fotoTitle2 = document.getElementById('foto_title');
									const nomeArtista = document.getElementById('nome_artista');
									const fotoArtista = document.getElementById('foto_artista');
									const descrizioneArtista = document.getElementById('descrizione_artista');
									const scopriDiPiuButton = document.getElementById('scopri-di-piu');
									const scopriDiPiu = document.getElementById('scopri-di-piu2');
									if (scopriDiPiu) {
										scopriDiPiu.href = `foto_specifica.html?id=${photo.id}`;
										scopriDiPiu.textContent = photo.title; // Assuming `artista` is the name of the artist
									} else {
										console.error('Link element not found in the DOM.');
									}

									console.log('Elements:', { fotoImg, fotoTitle, fotoDescription, fotoTitle2, nomeArtista, fotoArtista, descrizioneArtista, scopriDiPiuButton }); // Debugging statement

									if (fotoImg && fotoTitle && fotoDescription && fotoTitle2 && nomeArtista && fotoArtista && descrizioneArtista&& scopriDiPiuButton) {
										fotoImg.src = photo.image;
										fotoTitle.textContent = photo.title;
										fotoDescription.textContent = photo.description;
										fotoTitle2.textContent = photo.title;
										nomeArtista.textContent = photo.artista;
										fotoArtista.src = photo.foto_artista;

										const maxLength = 150; // Maximum length of the description
										descrizioneArtista.textContent = photo.descrizione_artista.length > maxLength
												? photo.descrizione_artista.substring(0, maxLength) + '...'
												: photo.descrizione_artista;

										// Update the href attribute with the correct photoId
										scopriDiPiuButton.href = `artista_specifico.html?id=${photo.id}`;




									} else {
										console.error('One or more elements not found in the DOM.');
									}
								} else {
									document.getElementById('foto-title').textContent = 'Foto non trovata.';
								}
							})
							.catch(error => console.error('Errore durante il caricamento del dataset:', error));
				</script>

				<!-- Wrapper -->
				<section id="wrapper">
					<section id="artista" class="wrapper spotlight style1">
						<div class="inner">
							<a class="image"><img id="foto_artista" src="" alt="" /></a>
							<div class="content">
								<h2 class="major" align="left">FOTOGRAFO</h2>
								<h2 align="left" id="nome_artista"></h2>
								<p align="center" id="descrizione_artista"></p>
								<a class="button" id="scopri-di-piu">Scopri di pi√π</a>
							</div>
						</div>
					</section>
				</section>

				<!-- Footer -->
					<section id="footer">
						<div class="inner">
							<ul class="contact">
								<li class="icon solid fa-home">
									Untitled Inc<br />
									1234 Somewhere Road Suite #2894<br />
									Nashville, TN 00000-0000
								</li>
								<li class="icon solid fa-phone">(000) 000-0000</li>
								<li class="icon solid fa-envelope"><a href="#">information@untitled.tld</a></li>
								<li class="icon brands fa-twitter"><a href="#">twitter.com/untitled-tld</a></li>
								<li class="icon brands fa-facebook-f"><a href="#">facebook.com/untitled-tld</a></li>
								<li class="icon brands fa-instagram"><a href="#">instagram.com/untitled-tld</a></li>
							</ul>
							<ul class="copyright">
								<li>&copy; Untitled Inc. All rights reserved.</li><li>Design: <a href="#">HTML5 UP</a></li>
							</ul>
						</div>
					</section>

			</div>

		<!-- Scripts -->
			<script src="assets/js/jquery.min.js"></script>
			<script src="assets/js/jquery.scrollex.min.js"></script>
			<script src="assets/js/browser.min.js"></script>
			<script src="assets/js/breakpoints.min.js"></script>
			<script src="assets/js/util.js"></script>
			<script src="assets/js/main.js"></script>



</html>